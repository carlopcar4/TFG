{"version":3,"file":"a11y-dialog-component.min.js","sources":["../src/defaults.js","../src/focusableElements.js","../src/keyCodes.js","../src/utils.js","../src/index.js"],"sourcesContent":["/* defaults.js\n ========================================================================== */\n\n// Global configuration\nexport default {\n  documentSelector: '.js-document',\n  documentDisabledClass: 'is-disabled',\n  openingTriggerActiveClass: 'is-active',\n  delay: 200,\n};\n","/* focusableElements.js\n ========================================================================== */\n\n// Keyboard focusable elements\nexport default [\n  '[href]:not([tabindex^=\"-\"])',\n  'input:not([disabled]):not([type=\"hidden\"]):not([tabindex^=\"-\"]):not([type=\"radio\"])',\n  'input[type=\"radio\"]:checked',\n  'select:not([disabled]):not([tabindex^=\"-\"])',\n  'textarea:not([disabled]):not([tabindex^=\"-\"])',\n  'button:not([disabled]):not([tabindex^=\"-\"])',\n  '[tabindex]:not([tabindex^=\"-\"])',\n  '[contenteditable=\"true\"]:not([tabindex^=\"-\"])',\n];\n","/* keyCodes.js\n ========================================================================== */\n\n// Keyboard codes\nexport default {\n  escape: 'Escape',\n  tab: 'Tab',\n  f6: 'F6',\n};\n","/* utils.js\n ========================================================================== */\n\n// Only get visible elements\nexport function getVisibleElements(elements) {\n  const visibleElements = [];\n\n  elements.forEach((element) => {\n    const bounding = element.getBoundingClientRect();\n    const isVisible = bounding.width > 0 || bounding.height > 0;\n\n    if (isVisible) visibleElements.push(element);\n  });\n\n  return visibleElements;\n}\n\n// Only get no nested elements\nexport function getNoNestedElements(context, selector, elements) {\n  const nestedComponents = context.querySelectorAll(selector);\n  const noNestedElements = [];\n  let isNested = false;\n\n  if (nestedComponents.length === 0) return elements;\n\n  elements.forEach((element) => {\n    nestedComponents.forEach((nestedComponent) => {\n      if (nestedComponent.contains(element)) isNested = true;\n    });\n\n    if (!isNested) noNestedElements.push(element);\n\n    isNested = false;\n  });\n\n  return noNestedElements;\n}\n\n// Check if the parent elements match the target\nexport function closest(element, target) {\n  let currentElement = element;\n\n  while (currentElement !== target && currentElement) {\n    currentElement = currentElement.parentNode;\n  }\n\n  return !!currentElement;\n}\n","/* a11y-dialog-component\n ========================================================================== */\n\nimport config from './defaults';\nimport focusableElements from './focusableElements';\nimport keyCodes from './keyCodes';\nimport { getVisibleElements, getNoNestedElements, closest } from './utils';\n\n// Use Symbols to create private methods\nconst onClick = Symbol('onClick');\nconst onKeydown = Symbol('onKeydown');\nconst addEventDelegation = Symbol('addEventDelegation');\nconst addEventListeners = Symbol('addEventListeners');\nconst removeEventListeners = Symbol('removeEventListeners');\nconst addAttributes = Symbol('addAttributes');\nconst removeAttributes = Symbol('removeAttributes');\nconst setAttributes = Symbol('setAttributes');\nconst setFocusableElements = Symbol('setFocusableElements');\nconst setFocus = Symbol('setFocus');\nconst restoreFocus = Symbol('restoreFocus');\nconst switchFocus = Symbol('switchFocus');\nconst maintainFocus = Symbol('maintainFocus');\nconst addObserver = Symbol('addObserver');\nconst removeObserver = Symbol('removeObserver');\n\nlet customConfig = config;\n\n// Update the global configuration if needed\nexport function setDefaults({\n  documentSelector = customConfig.documentSelector,\n  documentDisabledClass = customConfig.documentDisabledClass,\n  openingTriggerActiveClass = customConfig.openingTriggerActiveClass,\n  delay = customConfig.delay,\n} = {}) {\n  customConfig = {\n    ...config,\n    ...{\n      documentSelector,\n      documentDisabledClass,\n      openingTriggerActiveClass,\n      delay,\n    },\n  };\n}\n\n// Export the default Dialog() class\nexport default class Dialog {\n  constructor(\n    dialogSelector,\n    {\n      onOpen = () => {},\n      onClose = () => {},\n      openingSelector,\n      closingSelector,\n      backdropSelector,\n      helperSelector,\n      labelledby,\n      describedby,\n      isModal = true,\n      isTooltip = false,\n      isOpen = false,\n      isCreated = true,\n      disableScroll = true,\n      enableAutoFocus = true,\n      openingTriggerActiveClass = customConfig.openingTriggerActiveClass,\n      delay = customConfig.delay,\n    } = {},\n  ) {\n    // Check if the dialog exists, if not, set `isInitialized` to false\n    if (!document.querySelector(dialogSelector)) {\n      this.isInitialized = false;\n      return;\n    }\n\n    // Save the initial configuration\n    this.config = {\n      dialogSelector,\n      onOpen,\n      onClose,\n      openingSelector,\n      closingSelector,\n      backdropSelector,\n      helperSelector,\n      labelledby,\n      describedby,\n      isModal,\n      isTooltip,\n      isCreated,\n      isOpen,\n      disableScroll,\n      enableAutoFocus,\n      documentSelector: customConfig.documentSelector,\n      documentDisabledClass: customConfig.documentDisabledClass,\n      openingTriggerActiveClass,\n      delay,\n    };\n\n    this.dialog = document.querySelector(dialogSelector);\n    this.dialogArea = `${dialogSelector}, ${openingSelector}`;\n    this.openingTriggers = document.querySelectorAll(openingSelector);\n    this.backdropTrigger = document.querySelector(backdropSelector);\n    this.helpers = document.querySelectorAll(helperSelector);\n\n    this.document = document.querySelector(this.config.documentSelector) || document.querySelector('html');\n    this.documentIsAlreadyDisabled = false;\n\n    this.focusableElements = [];\n    this.firstFocusableElement = null;\n    this.lastFocusableElement = null;\n    this.openingTrigger = null;\n    this.closingTrigger = null;\n\n    this.isCreated = false;\n    this.isOpen = false;\n\n    this.close = this.close.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this[onClick] = this[onClick].bind(this);\n    this[onKeydown] = this[onKeydown].bind(this);\n    this[addEventDelegation] = this[addEventDelegation].bind(this);\n    this[switchFocus] = this[switchFocus].bind(this);\n\n    // Add mutation observer to update focusable elements\n    this.observer = new MutationObserver((mutations) => mutations.forEach(() => this[setFocusableElements]()));\n\n    // initialize the dialog\n    this.isInitialized = true;\n\n    // Create the dialog\n    if (isCreated) this.create();\n  }\n\n  [onClick](event) {\n    if (this.config.isTooltip && !event.target.closest(this.dialogArea)) {\n      this.close(event);\n    }\n    if (event.target === this.backdropTrigger) this.close(event);\n  }\n\n  [onKeydown](event) {\n    switch (event.key) {\n      case keyCodes.escape:\n        event.stopPropagation();\n        this.close(event);\n        break;\n      case keyCodes.f6:\n        if (!this.config.isModal) !this.config.isTooltip ? this[restoreFocus]() : this.close(event);\n        break;\n      case keyCodes.tab:\n        this[maintainFocus](event);\n        break;\n      default:\n        break;\n    }\n  }\n\n  [addEventDelegation](event) {\n    document.querySelectorAll(this.config.openingSelector).forEach((openingTrigger) => {\n      if (closest(event.target, openingTrigger)) {\n        this.openingTrigger = openingTrigger;\n        this.toggle(event);\n      }\n    });\n\n    document.querySelectorAll(this.config.closingSelector).forEach((closingTrigger) => {\n      if (closest(event.target, closingTrigger)) {\n        this.closingTrigger = closingTrigger;\n        this.close();\n      }\n    });\n  }\n\n  [addEventListeners]() {\n    document.addEventListener('click', this[onClick], { capture: true });\n    this.dialog.addEventListener('keydown', this[onKeydown]);\n  }\n\n  [removeEventListeners]() {\n    document.removeEventListener('click', this[onClick], { capture: true });\n    this.dialog.removeEventListener('keydown', this[onKeydown]);\n\n    if (this.openingTrigger) this.openingTrigger.removeEventListener('keydown', this[switchFocus]);\n  }\n\n  [addAttributes]() {\n    this.dialog.setAttribute('role', 'dialog');\n    this.dialog.setAttribute('tabindex', -1);\n    this.dialog.setAttribute('aria-hidden', true);\n\n    if (this.config.labelledby) this.dialog.setAttribute('aria-labelledby', this.config.labelledby);\n    if (this.config.describedby) this.dialog.setAttribute('aria-describedby', this.config.describedby);\n\n    if (this.config.isModal) this.dialog.setAttribute('aria-modal', true);\n\n    this.openingTriggers.forEach((openingTrigger) => openingTrigger.setAttribute('aria-haspopup', 'dialog'));\n  }\n\n  [removeAttributes]() {\n    this.dialog.removeAttribute('role');\n    this.dialog.removeAttribute('tabindex');\n    this.dialog.removeAttribute('aria-hidden');\n    this.dialog.removeAttribute('aria-labelledby');\n    this.dialog.removeAttribute('aria-describedby');\n    this.dialog.removeAttribute('aria-modal');\n\n    if (this.config.disableScroll && this.isOpen && !this.documentIsAlreadyDisabled) {\n      this.document.classList.remove(this.config.documentDisabledClass);\n    }\n\n    this.openingTriggers.forEach((openingTrigger) => openingTrigger.removeAttribute('aria-haspopup'));\n\n    if (this.openingTrigger) this.openingTrigger.classList.remove(this.config.openingTriggerActiveClass);\n\n    this.helpers.forEach((helper) => helper.classList.remove(this.config.openingTriggerActiveClass));\n  }\n\n  [setAttributes]() {\n    this.dialog.setAttribute('aria-hidden', !this.isOpen);\n\n    if (this.config.disableScroll && !this.documentIsAlreadyDisabled) {\n      if (this.isOpen) {\n        this.document.classList.add(this.config.documentDisabledClass);\n      } else {\n        this.document.classList.remove(this.config.documentDisabledClass);\n      }\n    }\n\n    if (this.openingTrigger) {\n      if (this.isOpen) {\n        this.openingTrigger.classList.add(this.config.openingTriggerActiveClass);\n      } else {\n        this.openingTrigger.classList.remove(this.config.openingTriggerActiveClass);\n      }\n    }\n\n    this.helpers.forEach((helper) => {\n      if (this.isOpen) {\n        helper.classList.add(this.config.openingTriggerActiveClass);\n      } else {\n        helper.classList.remove(this.config.openingTriggerActiveClass);\n      }\n    });\n  }\n\n  [setFocusableElements]() {\n    const visibleFocusableElements = getVisibleElements(this.dialog.querySelectorAll(focusableElements));\n    const filteredFocusableElements = getNoNestedElements(this.dialog, '[role=\"dialog\"]', visibleFocusableElements);\n\n    this.focusableElements = filteredFocusableElements.length > 0 ? filteredFocusableElements : [this.dialog];\n    [this.firstFocusableElement] = this.focusableElements;\n    this.lastFocusableElement = this.focusableElements[this.focusableElements.length - 1];\n  }\n\n  [setFocus]() {\n    if (this.config.enableAutoFocus) window.setTimeout(() => this.firstFocusableElement.focus(), this.config.delay);\n  }\n\n  [restoreFocus]() {\n    if (this.config.enableAutoFocus) window.setTimeout(() => this.openingTrigger.focus(), this.config.delay);\n\n    // Switch focus between the current opening trigger and the non-modal dialog\n    if (this.isOpen) this.openingTrigger.addEventListener('keydown', this[switchFocus]);\n  }\n\n  [switchFocus](event) {\n    if (event.key === keyCodes.f6) {\n      this.openingTrigger.removeEventListener('keydown', this[switchFocus]);\n      this[setFocus]();\n    }\n  }\n\n  [maintainFocus](event) {\n    if (event.shiftKey && event.target === this.firstFocusableElement) {\n      event.preventDefault();\n      this.lastFocusableElement.focus();\n    }\n\n    if (!event.shiftKey && event.target === this.lastFocusableElement) {\n      event.preventDefault();\n      this.firstFocusableElement.focus();\n    }\n  }\n\n  [addObserver]() {\n    this.observer.observe(this.dialog, { childList: true, attributes: true, subtree: true });\n  }\n\n  [removeObserver]() {\n    this.observer.disconnect();\n  }\n\n  open() {\n    if (!this.isInitialized || !this.isCreated || this.isOpen) return;\n\n    this.isOpen = true;\n    this.documentIsAlreadyDisabled = this.document.classList.contains(this.config.documentDisabledClass);\n\n    this[setAttributes]();\n    this[addEventListeners]();\n    this[setFocus]();\n\n    this.config.onOpen(this.dialog, this.openingTrigger);\n  }\n\n  close(event) {\n    if (!this.isInitialized || !this.isCreated || !this.isOpen) return;\n\n    this.isOpen = false;\n\n    if (event) event.preventDefault();\n\n    this[setAttributes]();\n    this[removeEventListeners]();\n\n    // Restore focus except for tooltip click events\n    if (this.openingTrigger && (!this.config.isTooltip || (this.config.isTooltip && event && event.type !== 'click'))) {\n      this[restoreFocus]();\n    }\n\n    this.config.onClose(this.dialog, this.closingTrigger);\n  }\n\n  toggle(event) {\n    if (!this.isInitialized || !this.isCreated) return;\n\n    if (event) event.preventDefault();\n\n    this.isOpen ? this.close() : this.open();\n  }\n\n  create() {\n    if (!this.isInitialized || this.isCreated) return;\n\n    this.isCreated = true;\n\n    this[addAttributes]();\n    this[setFocusableElements]();\n    this[addObserver]();\n\n    if (this.config.isOpen) this.open();\n\n    document.addEventListener('click', this[addEventDelegation], { capture: true });\n  }\n\n  destroy() {\n    if (!this.isInitialized || !this.isCreated) return;\n\n    this.close();\n\n    this.isCreated = false;\n\n    this[removeAttributes]();\n    this[removeEventListeners]();\n    this[removeObserver]();\n\n    document.removeEventListener('click', this[addEventDelegation], { capture: true });\n  }\n}\n"],"names":["documentSelector","documentDisabledClass","openingTriggerActiveClass","delay","closest","element","target","currentElement","parentNode","onClick","Symbol","onKeydown","addEventDelegation","addEventListeners","removeEventListeners","addAttributes","removeAttributes","setAttributes","setFocusableElements","setFocus","restoreFocus","switchFocus","maintainFocus","addObserver","removeObserver","customConfig","config","Dialog","dialogSelector","onOpen","onClose","openingSelector","closingSelector","backdropSelector","helperSelector","labelledby","describedby","isModal","isTooltip","isOpen","isCreated","disableScroll","enableAutoFocus","document","querySelector","dialog","dialogArea","openingTriggers","querySelectorAll","backdropTrigger","helpers","this","documentIsAlreadyDisabled","focusableElements","firstFocusableElement","lastFocusableElement","openingTrigger","closingTrigger","close","bind","toggle","observer","MutationObserver","mutations","forEach","_this","isInitialized","create","event","key","keyCodes","stopPropagation","_this2","addEventListener","capture","removeEventListener","setAttribute","removeAttribute","classList","remove","helper","_this3","add","_this4","elements","visibleElements","context","selector","nestedComponents","noNestedElements","isNested","visibleFocusableElements","bounding","getBoundingClientRect","width","height","push","filteredFocusableElements","length","nestedComponent","contains","window","setTimeout","_this5","focus","_this6","shiftKey","preventDefault","observe","childList","attributes","subtree","disconnect","type","open"],"mappings":"qzDAIe,CACbA,iBAAkB,eAClBC,sBAAuB,cACvBC,0BAA2B,YAC3BC,MAAO,OCJM,CACb,8BACA,sFACA,8BACA,8CACA,gDACA,8CACA,kCACA,mDCPQ,WACH,QACD,KCgCC,SAASC,EAAQC,EAASC,WAC3BC,EAAiBF,EAEdE,IAAmBD,GAAUC,GAClCA,EAAiBA,EAAeC,kBAGzBD,ECrCX,IAAME,EAAUC,OAAO,WACjBC,EAAYD,OAAO,aACnBE,EAAqBF,OAAO,sBAC5BG,EAAoBH,OAAO,qBAC3BI,EAAuBJ,OAAO,wBAC9BK,EAAgBL,OAAO,iBACvBM,EAAmBN,OAAO,oBAC1BO,EAAgBP,OAAO,iBACvBQ,EAAuBR,OAAO,wBAC9BS,EAAWT,OAAO,YAClBU,EAAeV,OAAO,gBACtBW,EAAcX,OAAO,eACrBY,EAAgBZ,OAAO,iBACvBa,EAAcb,OAAO,eACrBc,EAAiBd,OAAO,kBAE1Be,EAAeC,MAqBEC,wBAEjBC,uEAkBI,OAhBFC,OAAAA,aAAS,mBACTC,QAAAA,aAAU,eACVC,IAAAA,gBACAC,IAAAA,gBACAC,IAAAA,iBACAC,IAAAA,eACAC,IAAAA,WACAC,IAAAA,gBACAC,QAAAA,oBACAC,UAAAA,oBACAC,OAAAA,oBACAC,UAAAA,oBACAC,cAAAA,oBACAC,gBAAAA,oBACAxC,0BAAAA,aAA4BuB,EAAavB,gCACzCC,MAAAA,aAAQsB,EAAatB,8GAIlBwC,SAASC,cAAchB,SAMvBF,OAAS,CACZE,eAAAA,EACAC,OAAAA,EACAC,QAAAA,EACAC,gBAAAA,EACAC,gBAAAA,EACAC,iBAAAA,EACAC,eAAAA,EACAC,WAAAA,EACAC,YAAAA,EACAC,QAAAA,EACAC,UAAAA,EACAE,UAAAA,EACAD,OAAAA,EACAE,cAAAA,EACAC,gBAAAA,EACA1C,iBAAkByB,EAAazB,iBAC/BC,sBAAuBwB,EAAaxB,sBACpCC,0BAAAA,EACAC,MAAAA,QAGG0C,OAASF,SAASC,cAAchB,QAChCkB,qBAAgBlB,eAAmBG,QACnCgB,gBAAkBJ,SAASK,iBAAiBjB,QAC5CkB,gBAAkBN,SAASC,cAAcX,QACzCiB,QAAUP,SAASK,iBAAiBd,QAEpCS,SAAWA,SAASC,cAAcO,KAAKzB,OAAO1B,mBAAqB2C,SAASC,cAAc,aAC1FQ,2BAA4B,OAE5BC,kBAAoB,QACpBC,sBAAwB,UACxBC,qBAAuB,UACvBC,eAAiB,UACjBC,eAAiB,UAEjBjB,WAAY,OACZD,QAAS,OAETmB,MAAQP,KAAKO,MAAMC,KAAKR,WACxBS,OAAST,KAAKS,OAAOD,KAAKR,WAC1B1C,GAAW0C,KAAK1C,GAASkD,KAAKR,WAC9BxC,GAAawC,KAAKxC,GAAWgD,KAAKR,WAClCvC,GAAsBuC,KAAKvC,GAAoB+C,KAAKR,WACpD9B,GAAe8B,KAAK9B,GAAasC,KAAKR,WAGtCU,SAAW,IAAIC,iBAAiB,SAACC,UAAcA,EAAUC,QAAQ,kBAAMC,EAAK/C,cAG5EgD,eAAgB,EAGjB1B,GAAWW,KAAKgB,eA3DbD,eAAgB,gCA8DxBzD,iBAAS2D,GACJjB,KAAKzB,OAAOY,YAAc8B,EAAM9D,OAAOF,QAAQ+C,KAAKL,kBACjDY,MAAMU,GAETA,EAAM9D,SAAW6C,KAAKF,iBAAiBE,KAAKO,MAAMU,UAGvDzD,iBAAWyD,UACFA,EAAMC,UACPC,EACHF,EAAMG,uBACDb,MAAMU,cAERE,EACEnB,KAAKzB,OAAOW,UAAUc,KAAKzB,OAAOY,UAAmCa,KAAKO,MAAMU,GAAlCjB,KAAK/B,iBAErDkD,OACEhD,GAAe8C,WAOzBxD,iBAAoBwD,cACnBzB,SAASK,iBAAiBG,KAAKzB,OAAOK,iBAAiBiC,QAAQ,SAACR,GAC1DpD,EAAQgE,EAAM9D,OAAQkD,KACxBgB,EAAKhB,eAAiBA,EACtBgB,EAAKZ,OAAOQ,MAIhBzB,SAASK,iBAAiBG,KAAKzB,OAAOM,iBAAiBgC,QAAQ,SAACP,GAC1DrD,EAAQgE,EAAM9D,OAAQmD,KACxBe,EAAKf,eAAiBA,EACtBe,EAAKd,kBAKV7C,mBACC8B,SAAS8B,iBAAiB,QAAStB,KAAK1C,GAAU,CAAEiE,SAAS,SACxD7B,OAAO4B,iBAAiB,UAAWtB,KAAKxC,WAG9CG,mBACC6B,SAASgC,oBAAoB,QAASxB,KAAK1C,GAAU,CAAEiE,SAAS,SAC3D7B,OAAO8B,oBAAoB,UAAWxB,KAAKxC,IAE5CwC,KAAKK,gBAAgBL,KAAKK,eAAemB,oBAAoB,UAAWxB,KAAK9B,WAGlFN,wBACM8B,OAAO+B,aAAa,OAAQ,eAC5B/B,OAAO+B,aAAa,YAAa,QACjC/B,OAAO+B,aAAa,eAAe,GAEpCzB,KAAKzB,OAAOS,YAAYgB,KAAKN,OAAO+B,aAAa,kBAAmBzB,KAAKzB,OAAOS,YAChFgB,KAAKzB,OAAOU,aAAae,KAAKN,OAAO+B,aAAa,mBAAoBzB,KAAKzB,OAAOU,aAElFe,KAAKzB,OAAOW,SAASc,KAAKN,OAAO+B,aAAa,cAAc,QAE3D7B,gBAAgBiB,QAAQ,SAACR,UAAmBA,EAAeoB,aAAa,gBAAiB,mBAG/F5D,mCACM6B,OAAOgC,gBAAgB,aACvBhC,OAAOgC,gBAAgB,iBACvBhC,OAAOgC,gBAAgB,oBACvBhC,OAAOgC,gBAAgB,wBACvBhC,OAAOgC,gBAAgB,yBACvBhC,OAAOgC,gBAAgB,cAExB1B,KAAKzB,OAAOe,eAAiBU,KAAKZ,SAAWY,KAAKC,gCAC/CT,SAASmC,UAAUC,OAAO5B,KAAKzB,OAAOzB,4BAGxC8C,gBAAgBiB,QAAQ,SAACR,UAAmBA,EAAeqB,gBAAgB,mBAE5E1B,KAAKK,gBAAgBL,KAAKK,eAAesB,UAAUC,OAAO5B,KAAKzB,OAAOxB,gCAErEgD,QAAQc,QAAQ,SAACgB,UAAWA,EAAOF,UAAUC,OAAOE,EAAKvD,OAAOxB,oCAGtEe,mCACM4B,OAAO+B,aAAa,eAAgBzB,KAAKZ,QAE1CY,KAAKzB,OAAOe,gBAAkBU,KAAKC,4BACjCD,KAAKZ,YACFI,SAASmC,UAAUI,IAAI/B,KAAKzB,OAAOzB,4BAEnC0C,SAASmC,UAAUC,OAAO5B,KAAKzB,OAAOzB,wBAI3CkD,KAAKK,iBACHL,KAAKZ,YACFiB,eAAesB,UAAUI,IAAI/B,KAAKzB,OAAOxB,gCAEzCsD,eAAesB,UAAUC,OAAO5B,KAAKzB,OAAOxB,iCAIhDgD,QAAQc,QAAQ,SAACgB,GAChBG,EAAK5C,OACPyC,EAAOF,UAAUI,IAAIC,EAAKzD,OAAOxB,2BAEjC8E,EAAOF,UAAUC,OAAOI,EAAKzD,OAAOxB,oCAKzCgB,uBDhPgCkE,EAC3BC,EAa4BC,EAASC,EAAUH,EAC/CI,EACAC,EACFC,ECgOIC,GDjPyBP,ECiPqBjC,KAAKN,OAAOG,iBAAiBK,GDhP7EgC,EAAkB,GAExBD,EAASpB,QAAQ,SAAC3D,OACVuF,EAAWvF,EAAQwF,yBACU,EAAjBD,EAASE,OAA+B,EAAlBF,EAASG,SAElCV,EAAgBW,KAAK3F,KAG/BgF,GCwOCY,GDpO0BX,ECoOsBnC,KAAKN,ODpOlB0C,ECoO0B,kBDpOhBH,ECoOmCO,EDnOlFH,EAAmBF,EAAQtC,iBAAiBuC,GAE9CG,IADED,EAAmB,IAGO,IAA5BD,EAAiBU,OAAqBd,GAE1CA,EAASpB,QAAQ,SAAC3D,GAChBmF,EAAiBxB,QAAQ,SAACmC,GACpBA,EAAgBC,SAAS/F,KAAUqF,GAAW,KAG/CA,GAAUD,EAAiBO,KAAK3F,GAErCqF,GAAW,IAGND,SCqNApC,kBAAuD,EAAnC4C,EAA0BC,OAAaD,EAA4B,CAAC9C,KAAKN,gBACnEM,KAAKE,0BAA9BC,gCACDC,qBAAuBJ,KAAKE,kBAAkBF,KAAKE,kBAAkB6C,OAAS,UAGpF/E,8BACKgC,KAAKzB,OAAOgB,iBAAiB2D,OAAOC,WAAW,kBAAMC,EAAKjD,sBAAsBkD,SAASrD,KAAKzB,OAAOvB,cAG1GiB,8BACK+B,KAAKzB,OAAOgB,iBAAiB2D,OAAOC,WAAW,kBAAMG,EAAKjD,eAAegD,SAASrD,KAAKzB,OAAOvB,OAG9FgD,KAAKZ,QAAQY,KAAKK,eAAeiB,iBAAiB,UAAWtB,KAAK9B,WAGvEA,iBAAa+C,GACRA,EAAMC,MAAQC,SACXd,eAAemB,oBAAoB,UAAWxB,KAAK9B,SACnDF,aAIRG,iBAAe8C,GACVA,EAAMsC,UAAYtC,EAAM9D,SAAW6C,KAAKG,wBAC1Cc,EAAMuC,sBACDpD,qBAAqBiD,SAGvBpC,EAAMsC,UAAYtC,EAAM9D,SAAW6C,KAAKI,uBAC3Ca,EAAMuC,sBACDrD,sBAAsBkD,gBAI9BjF,wBACMsC,SAAS+C,QAAQzD,KAAKN,OAAQ,CAAEgE,WAAW,EAAMC,YAAY,EAAMC,SAAS,WAGlFvF,wBACMqC,SAASmD,4CAIT7D,KAAKe,eAAkBf,KAAKX,YAAaW,KAAKZ,cAE9CA,QAAS,OACTa,0BAA4BD,KAAKR,SAASmC,UAAUsB,SAASjD,KAAKzB,OAAOzB,4BAEzEgB,UACAJ,UACAM,UAEAO,OAAOG,OAAOsB,KAAKN,OAAQM,KAAKK,+CAGjCY,GACCjB,KAAKe,eAAkBf,KAAKX,WAAcW,KAAKZ,cAE/CA,QAAS,EAEV6B,GAAOA,EAAMuC,sBAEZ1F,UACAH,KAGDqC,KAAKK,kBAAoBL,KAAKzB,OAAOY,WAAca,KAAKzB,OAAOY,WAAa8B,GAAwB,UAAfA,EAAM6C,YACxF7F,UAGFM,OAAOI,QAAQqB,KAAKN,OAAQM,KAAKM,gDAGjCW,GACAjB,KAAKe,eAAkBf,KAAKX,YAE7B4B,GAAOA,EAAMuC,sBAEZpE,OAASY,KAAKO,QAAUP,KAAK+D,yCAI7B/D,KAAKe,gBAAiBf,KAAKX,iBAE3BA,WAAY,OAEZzB,UACAG,UACAK,KAED4B,KAAKzB,OAAOa,QAAQY,KAAK+D,OAE7BvE,SAAS8B,iBAAiB,QAAStB,KAAKvC,GAAqB,CAAE8D,SAAS,uCAInEvB,KAAKe,eAAkBf,KAAKX,iBAE5BkB,aAEAlB,WAAY,OAEZxB,UACAF,UACAU,KAELmB,SAASgC,oBAAoB,QAASxB,KAAKvC,GAAqB,CAAE8D,SAAS,2EAvUxE,wEAKH,OAJF1E,iBAAAA,aAAmByB,EAAazB,uBAChCC,sBAAAA,aAAwBwB,EAAaxB,4BACrCC,0BAAAA,aAA4BuB,EAAavB,gCACzCC,MAAAA,aAAQsB,EAAatB,QAErBsB,SACKC,GACA,CACD1B,iBAAAA,EACAC,sBAAAA,EACAC,0BAAAA,EACAC,MAAAA"}